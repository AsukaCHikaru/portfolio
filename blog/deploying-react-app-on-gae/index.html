<!doctype html>
<html lang="en">
  <head>
    <title>Deploying React.js App on GAE | Asuka Wang</title>
    <meta name="description" content="undefined">
    <meta name="author" content="Asuka Wang">
    <meta property="og:title" content="Deploying React.js App on GAE | Asuka Wang">
    <meta property="og:description" content="undefined">
  
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="viewport-fit=cover, width=device-width, initial-scale=1"
    />
    <script type="module" src="/index.js" async></script>
    <link rel="stylesheet" href="/fonts.css" />
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/modern-normalize.css" />
    <link
      rel="preload"
      href="/fonts/CormorantGaramond-Regular.subset.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_NotoSerifJP_Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_NotoSerifJP_ExtraLight.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_NotoSerifJP_Bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_latin_NotoSans_ExtraLight.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_latin_NotoSans_Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_GentiumBookPlus_Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_GentiumBookPlus_Bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link
      rel="preload"
      href="/fonts/subset_extended_latin_GentiumPlus_Italic.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
  <script>window.__STATIC_PROPS__ = {"blog":{"post":{"metadata":{"title":"Deploying React.js App on GAE","publishedAt":"2019-09-19","pathname":"deploying-react-app-on-gae","category":"note","topic":"web development","language":"en-US","featured":false},"content":[{"type":"paragraph","body":[{"type":"textBody","value":"For people like me who have only used a static host like Amazon S3 before, deploying React app on Google App Engine is a challenge. For all the references I found it looks straightforward and easy to deploy a React app, yet I still struggled for 2 days. Here is how I did it, with the things I realized by logs and tries and errors.","style":"plain"}]},{"type":"heading","level":2,"body":[{"type":"textBody","value":"GAE is not a static host; it's a virtual machine","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","value":"So you can't just push the build. You have to serve it, like starting a development server. So the next problem is, how?","style":"plain"}]},{"type":"heading","level":2,"body":[{"type":"textBody","value":"With default config, GAE only executes two scripts when deploying","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","style":"plain","value":"They are "},{"type":"textBody","style":"code","value":"npm install"},{"type":"textBody","style":"plain","value":" and "},{"type":"textBody","style":"code","value":"npm start"},{"type":"textBody","value":".","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","style":"plain","value":"Like I mentioned before, for merely starting a server for React, these two seems enough. Then I found out it's not, because default "},{"type":"textBody","style":"code","value":"npm start"},{"type":"textBody","style":"plain","value":" provided by Create-React-App, which equals to "},{"type":"textBody","style":"code","value":"node scripts/start.js"},{"type":"textBody","style":"plain","value":" if you check out "},{"type":"textBody","style":"code","value":"package.json"},{"type":"textBody","style":"plain","value":", takes much time, and it's long enough to make the app not working. So we need a faster way to "},{"type":"textBody","style":"italic","value":"serve"},{"type":"textBody","value":" it.","style":"plain"}]},{"type":"heading","level":2,"body":[{"type":"textBody","value":"Serve can do the trick","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","value":"Literally, ","style":"plain"},{"type":"link","body":[{"type":"textBody","value":"serve","style":"plain"}],"url":"\u003cnotion://www.notion.so/asukachikaru/%5B%3Chttps://github.com/zeit/serve%3E%5D(%3Chttps://github.com/zeit/serve%3E"},{"type":"textBody","value":"\u003e).","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","style":"plain","value":"Notice serve needs static files to run, so we need to build it first. Since GAE only runs two scripts, and building takes some time too, so I bound it to "},{"type":"textBody","style":"code","value":"postinstall"},{"type":"textBody","style":"plain","value":" instead of "},{"type":"textBody","style":"code","value":"prestart"},{"type":"textBody","value":" . By this way, GAE automatically builds right after it installs dependencies.","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","value":"You can also use some host framework (like express) to do the hosting and routing stuff too.","style":"plain"}]},{"type":"heading","level":2,"body":[{"type":"textBody","value":"Config the port","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","value":"React development server default port is 3000, and serve's is 5000, while GAE uses 8080.","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","style":"plain","value":"The scripts in "},{"type":"textBody","style":"code","value":"package.json"},{"type":"textBody","value":" I used when finally successfully deployed looks like this:","style":"plain"}]},{"type":"code","lang":"json","body":"\"script\": {\n  \"postinstall\": \"npm run build\",\n  \"start\": \"serve -l 8080 -s build\"\n}"},{"type":"paragraph","body":[{"type":"textBody","value":"You need to configure app.yaml too, but I think many resources is talking about how to do it.","style":"plain"}]},{"type":"paragraph","body":[{"type":"textBody","value":"I hope this helps!","style":"plain"}]}]}},"lastUpdated":"2026-02-08"}</script></head>
  <body>
    <div id="root"><div><div class="site_container grid"><header class="site-header"><div class="header-content"><div class="header_left_content"><nav><a href="/blog">blog</a><a href="/list">list</a><a href="/about">about</a><a href="/blog/feed.xml">rss</a></nav><button type="button" class="frontpage-header-menu-button">menu</button></div><h1><a href="/">ASUKA WANG</a></h1><div class="header_right_content"></div></div><div class="header-divider"></div></header><main class="grid"><div class="post-page-header_container"><a href="/blog/?category=note">note</a><h1>Deploying React.js App on GAE</h1><h2></h2><p>September 19, 2019</p></div><article class="post-page-content grid"><p>For people like me who have only used a static host like Amazon S3 before, deploying React app on Google App Engine is a challenge. For all the references I found it looks straightforward and easy to deploy a React app, yet I still struggled for 2 days. Here is how I did it, with the things I realized by logs and tries and errors.</p><h2>GAE is not a static host; it&#x27;s a virtual machine</h2><p>So you can&#x27;t just push the build. You have to serve it, like starting a development server. So the next problem is, how?</p><h2>With default config, GAE only executes two scripts when deploying</h2><p>They are <code>npm install</code> and <code>npm start</code>.</p><p>Like I mentioned before, for merely starting a server for React, these two seems enough. Then I found out it&#x27;s not, because default <code>npm start</code> provided by Create-React-App, which equals to <code>node scripts/start.js</code> if you check out <code>package.json</code>, takes much time, and it&#x27;s long enough to make the app not working. So we need a faster way to <i>serve</i> it.</p><h2>Serve can do the trick</h2><p>Literally, <a href="&lt;notion://www.notion.so/asukachikaru/%5B%3Chttps://github.com/zeit/serve%3E%5D(%3Chttps://github.com/zeit/serve%3E" target="_blank" rel="noopener noreferrer">serve</a>&gt;).</p><p>Notice serve needs static files to run, so we need to build it first. Since GAE only runs two scripts, and building takes some time too, so I bound it to <code>postinstall</code> instead of <code>prestart</code> . By this way, GAE automatically builds right after it installs dependencies.</p><p>You can also use some host framework (like express) to do the hosting and routing stuff too.</p><h2>Config the port</h2><p>React development server default port is 3000, and serve&#x27;s is 5000, while GAE uses 8080.</p><p>The scripts in <code>package.json</code> I used when finally successfully deployed looks like this:</p><div><pre class="shiki gruvbox-light-soft" style="background-color:#f2e5bc;color:#3c3836" tabindex="0"><code><span class="line"><span style="color:#7C6F64">"</span><span style="color:#076678">script</span><span style="color:#7C6F64">"</span><span style="color:#3C3836">: </span><span style="color:#7C6F64">{</span></span>
<span class="line"><span style="color:#7C6F64">  "</span><span style="color:#689D6A">postinstall</span><span style="color:#7C6F64">"</span><span style="color:#7C6F64">:</span><span style="color:#7C6F64"> "</span><span style="color:#076678">npm run build</span><span style="color:#7C6F64">"</span><span style="color:#7C6F64">,</span></span>
<span class="line"><span style="color:#7C6F64">  "</span><span style="color:#689D6A">start</span><span style="color:#7C6F64">"</span><span style="color:#7C6F64">:</span><span style="color:#7C6F64"> "</span><span style="color:#076678">serve -l 8080 -s build</span><span style="color:#7C6F64">"</span></span>
<span class="line"><span style="color:#7C6F64">}</span></span></code></pre></div><p>You need to configure app.yaml too, but I think many resources is talking about how to do it.</p><p>I hope this helps!</p></article></main><footer class="site-footer_container">Asuka Wang © <!-- -->2026</footer></div></div></div>
  </body>
</html>
